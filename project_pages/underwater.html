<!DOCTYPE html>
<html lang="en">

<head>
    <title>Angela Xing</title>
    <link rel="shortcut icon" type="images/png" href="../images/browser_icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, inital-scale=1">
    <link rel="stylesheet" href="../stylesheets/navbar_style.css">
    <link rel="stylesheet" href="../stylesheets/proj_page_style.css">
    <link rel="stylesheet" href="../stylesheets/underwater_style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@300&display=swap" rel="stylesheet">
</head>

<body>

    <!-- header -->
    <header>
        <h2>
            <a href="../index.html">ANGELA XING</a>
        </h2>
        <!-- navbar links -->
        <nav>
            <ul class="navbar-link">
                <li>
                    <a class="nav-individual-link" href="../index.html">ABOUT</a>
                </li>
                <li>
                    <a class="nav-individual-link" href="../projects.html">PROJECTS</a>
                </li>
                <li>
                    <a class="nav-individual-link" href="../gymnastics.html">GYMNASTICS</a>
                </li>
                <li>
                    <a class="nav-individual-link" href="../resume.html">RESUME</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- body -->
    <div class="container">

        <!-- Summary Section -->
        <div id="header-bracket">
            <h1> UNDER THE SEA </h1>
            <h2> December 2021 </h2>
            <h2> C++ </h2>
        </div>

        <div class="content">
            <p>
                Under the Sea was developed as a final project for Introduction to Computer Graphics.
            </p>

            <p>
                The goal of this project was to create a 3D scene incorporating various computer graphics
                concepts into the different features. My group and I picked concepts that we wanted to learn
                more about and structured our theme around those concepts. In the end, we decided on an underwater
                scene with the following features:
            </p>
            <ul>
                <li>
                    Camera movement through a 3D scene along Bezier Curves
                </li>
                <li>
                    Corals generated using fractals/L-systems
                </li>
                <li>
                    Procedurally generated terrain
                </li>
            </ul>
        </div>

        <!-- Implementation Details Section -->
        <div class="bracket">
            <h2>
                IMPLEMENTATION DETAILS
            </h2>
        </div>

        <div class="content">
            <p>
                During the project, I focused on implementing camera movement and helped debug generating
                the corals. I started this portion of the project by learning about bezier curves by using these
                resources:
            </p>
            <p id="resources">
                <a href="https://cs184.eecs.berkeley.edu/sp20/lecture/7/geometry-and-curves">
                    UC Berkley Lecture Slides
                </a>
                <a href="https://www.youtube.com/watch?v=pnYccz1Ha34">
                    Linear Interpolation of Curves Video
                </a>
                <a href="https://youtu.be/aVwxzDHniEw?t=237">
                    de Casteljau's Algorithm Video
                </a>
            </p>
            <p>
                After going through these resources, I decided to split this process into the calculation of
                a single Bezier curve and the calculation of a piecewise Bezier curve.
            </p>

            <h3> Single Bezier Curve </h3>
            <p>
                In this project, I used cubic Bezier curves which are defined by 4 anchor points:
                P<sub>0</sub>, P<sub>1</sub>, P<sub>2</sub>, P<sub>3</sub>. Here's a nice visualization of
                a Bezier curve:
            <div class="figures">
                <div class="single-figure">
                    <img src="../images/underwater/bezier_curve.png" alt="bezier curve" style="width: 40%;">
                    <p class="caption">Bezier Curve Visualization</p>
                </div>
            </div>
            Because I was construcing camera movement in 3 dimensions, each point was defined by an
            (x, y, z) coordinate. Now, in order to find some point on the curve, you can lineraly
            interpolate between the 4 points:
            <div class="equation">
                B(t) = (1 - t)<sup>3</sup> <span>P<sub>0</sub></span>
                + 3(1 - t)<sup>2</sup>t <span>P<sub>1</sub></span>
                + 3(1 - t)t<sup>2</sup> <span>P<sub>2</sub></span>
                + t<sup>3</sup> <span>P<sub>3</sub></span>
                , for 0 &le; t &le; 1
            </div>
            In order to represent a singular Bezier curve, I created a class. The class stored the 4 anchor
            points and contained a function to determine a point on the curve given a particular t value.
            </p>

            <h3> Piecewise Bezier Curve </h3>
            <p>
                Piecewise Bezier curves are simply a combination of multiple Bezier curves. Because I wanted
                the camera movement to be smooth, I needed the Bezier curves to flow together. Thus, I had to
                ensure that the final point of the first curve equaled the first point of the second curve and
                that line created by the final two points in the first curve was equal to the line created by
                the first two points in the second curve. Here's a visualization of two Bezier curves that
                flow together:
            <div class="figures">
                <div class="single-figure">
                    <img src="../images/underwater/piecewise_bezier.png" alt="piecewise bezier curve"
                        style="width: 40%;">
                    <p class="caption">Piecewise Bezier Curve Visualization</p>
                </div>
            </div>
            </p>
            <p>
                I reprsented a piecewise Bezier curve as a class. The class stores a vector of Bezier curves, and
                in order to add a curve, there is a function that ensures the two curves will create a smooth point.
                If the two curves don't create a smooth curve, the function will adjust the points in the added curve
                so that the two curves join smoothly.
            </p>

            <h3> Camera Movement </h3>
            <p>
                When a camera moves through a scene, its path and orientation are necessary to achieve the
                desired outcome. The camera's path is defined by Bezier curves (as I described above), and the
                camera's orientation is defined through its look vector (as I will describe in this section).
                For this project, I created two camera movements: one that follows a curve through the scene
                and one that views the scene from a birds-eye perspective.
            </p>
            <p>
                For the camera movement through the scene, I wanted the camera to point in the direction of the
                movement. In order to do this, I set the camera's look vector to the vector that lies tangent
                to the Bezier curve at a certain point, or the derivative of the Bezier curve at that point.
                Luckily, the Bezier curve equation is easily differentiable, so the taking the derivative with
                respect to t results in the following:
            <div class="equation">
                B'(t) = 3(1 - t)<sup>2</sup> <span>(P<sub>1</sub> - P<sub>0</sub>)</span>
                + 6(t - t)t <span>(P<sub>2</sub> - P<sub>1</sub>)</span>
                + 2t<sup>2</sup> <span>(P<sub>3</sub> - P<sub>2</sub>)</span>
            </div>
            Now, as the camera moves along the curve, its orientation (or look vector) changes based on the
            direction of movement.
            </p>
            <p>
                For camera movement at a birds-eye perspective, I wanted the camera to move in a circle around
                the scene and always point towards the center. Thus, I can define the center point of the scene
                to be the middle of the circle (and on the floor of the terrain) and calculate the vector by
                subtracting the center point from the camera's position along the curve. Now, as the camera moves
                above the scene, it will always point downwards and inwards, viewing the terrain.
            </p>
            <p>
                In order to control the camera movement, I created two sliders in the UI using QWidgets. The
                first slider controlled the camera movement through the scene, and the second slider controlled the
                camera movement above the scene. As the sliders moved, the camera would move along the Bezier curves.
            </p>
        </div>

        <!-- Results -->
        <div class="bracket">
            <h2>
                RESULTS
            </h2>
        </div>

        <div class="content">
            <div class="figures">
                <div class="single-figure">
                    <img src="../images/underwater/underwater_through.gif" alt="camera through scene">
                    <p class="caption">Camera Movement Through Scene</p>
                </div>
                <div class="single-figure">
                    <img src="../images/underwater/underwater_above.gif" alt="camera above scene">
                    <p class="caption">Camera Movement Above Scene</p>
                </div>
            </div>
        </div>
    </div>

</body>